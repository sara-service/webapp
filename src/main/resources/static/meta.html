<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="icon" href="lib/icon.png" type="image/png"/>
	<link rel="shortcut icon" href="lib/icon.png" type="image/png"/>
	<link rel="stylesheet" href="lib/bootstrap.min.css" />
	<link rel="stylesheet" href="lib/sara.css" />
	<script src="lib/jquery.min.js"></script>
	<script src="lib/common.js"></script>
	<script src="meta.js"></script>
	<title>Metadata — SARA software publishing</title>
</head>
<body><div class="fluid-container">
	<div class="row">
		<div class="col-xs-12">
			<img src="lib/header.svg" class="logo-header" />
		</div>
	</div>

	<div id="main_loading" class="loading"><span class="sr-only">loading title and description...</span></div>
	<div id="main" class="hidden">
		<div class="row">
			<div class="col-xs-12 action-header">
				<h1>How would you describe your publication?</h1>
			</div>
		</div>
		<form class="form-horizontal">
			<div class="form-group has-feedback" id="title_group">
				<label class="col-sm-2 control-label" for="title">publication title</label>
				<div class="col-sm-7 nopad">
					<input type="text" class="form-control" id="title" placeholder="name of your software artefact" aria-describedby="title_text">
					<span id="title_status" class="form-control-feedback" aria-hidden="true"></span>
					<span id="title_text" class="form-control-feedback-text text-danger hidden"></span>
				</div>
				<div class="col-sm-3 nopad">
					<button type="button" class="btn btn-sm btn-warning" id="reset_title">use project name from git repo</button>
				</div>
				<div class="col-sm-10 col-sm-offset-2"><label class="form-check-label control-label">
					<input class="form-check-input" type="checkbox" id="update_title">
					update project name in git repo
				</label></div>
			</div>
			<div class="form-group has-feedback" id="description_group">
				<label class="col-sm-2 control-label" for="description">short description (optional)</label>
				<div class="col-sm-7 nopad">
					<textarea class="form-control" id="description" placeholder="short description of what your software does" aria-describedby="description_text" rows="10"></textarea>
					<span id="description_status" class="form-control-feedback" aria-hidden="true"></span>
					<span id="description_text" class="form-control-feedback-text text-danger hidden"></span>
				</div>
				<div class="col-sm-3 nopad">
					<button type="button" class="btn btn-sm btn-warning" id="reset_description">use project description from git repo</button>
				</div>
				<div class="col-sm-10 col-sm-offset-2"><label class="form-check-label control-label">
					<input class="form-check-input" type="checkbox" id="update_description">
					update project description in git repo
				</label></div>
			</div>

			<!-- per-branch options -->
			<p style="height:3ex"></p>
			<div class="form-group has-feedback" id="master_group">
				<label class="col-sm-2 control-label" for="master">main branch</label>
				<div class="col-sm-7 nopad">
					<select class="form-control" id="master">
						<option value="DONT-BE-SO-IMPATIENT" disabled selected>… loading list …</option>
					</select>
					<span id="master_status" class="form-control-feedback" aria-hidden="true"></span>
					<span id="master_text" class="form-control-feedback-text text-danger hidden"></span>
				</div>
				<div class="col-sm-3 nopad">
					<button type="button" class="btn btn-sm btn-warning" id="reset_master" disabled>autodetect from version history</button>
					<div id="master_loading" class="loading-inline hidden"><span class="sr-only">detecting metadata for this branch...</span></div>
				</div>
			</div>

			<div class="form-group has-feedback" id="version_group">
				<label class="col-sm-2 control-label" for="version">software version</label>
				<div class="col-sm-7 nopad">
					<input type="text" class="form-control" id="version" placeholder="version number" aria-describedby="version_text">
					<span id="version_status" class="form-control-feedback" aria-hidden="true"></span>
					<span id="version_text" class="form-control-feedback-text text-danger hidden"></span>
				</div>
				<div class="col-sm-3 nopad">
					<button type="button" class="btn btn-sm btn-warning" id="reset_version" disabled>autodetect from main branch</button>
				</div>
				<div class="col-sm-7 col-sm-offset-2"><label class="form-check-label control-label">
					<input class="form-check-input" type="checkbox" id="update_version">
					update file <code data-versionfile>VERSION</code> in <span data-master>branch master</span> (in git repo)
				</label></div>
			</div>
		</form>
	</div>

	<p style="height:3ex"></p>
	<div class="row">
		<a class="btn btn-default col-sm-3" href="/publish.html">← previous</a>
		<button class="btn btn-primary col-sm-2 col-sm-offset-7 disabled" id="next_button">next →</button>
	</div>
	<p style="height:3ex"></p>
</div></body>
</html>
